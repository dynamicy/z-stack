###############################################################################
#                                                                             #
# IAR C/C++ Compiler V7.51A/W32 for 8051                23/Aug/2010  21:56:31 #
# Copyright 2004-2009 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE      #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\Source\zcl_samplesw_data.c                     #
#    Command line       =  -f "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE  #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\Tools\CC2530DB\f8wEndev.cfg" #
#                           (-DCPU32MHZ -DROOT=__near_func -DBLINK_LEDS) -f   #
#                          "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE     #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg #
#                          " (-DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR    #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=TRUE      #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440)   #
#                          -f "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE  #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg"   #
#                          (-DZCL_READ -DZCL_WRITE -DZCL_BASIC                #
#                          -DZCL_IDENTIFY -DZCL_ON_OFF -DZCL_KEY_ESTABLISH    #
#                          -DZCL_LOAD_CONTROL -DZCL_SIMPLE_METERING           #
#                          -DZCL_PRICING) -DZCL_MESSAGE "D:\R.D               #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\Source\zcl_samplesw_data.c" -D CC2530BB -D     #
#                          NWK_AUTO_POLL -D ZTOOL_P1 -D MT_TASK -D            #
#                          MT_APP_FUNC -D MT_SYS_FUNC -D MT_ZDO_FUNC -D       #
#                          xLCD_SUPPORTED=DEBUG -D xPOWER_SAVING -D           #
#                          HAL_PA_LNA -lC "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530     #
#                          example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Z #
#                          Stack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutom #
#                          ation\SampleSwitch\CC2530DB\RouterBB\List\" -lA    #
#                          "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE     #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\RouterBB\List\" --diag_suppress       #
#                          Pe001,Pa010 -o "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530     #
#                          example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Z #
#                          Stack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutom #
#                          ation\SampleSwitch\CC2530DB\RouterBB\Obj\" -e      #
#                          --require_prototypes --debug --core=plain          #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "D:\R.D Dept\µ{¦¡¶}µo\TI   #
#                          CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0- #
#                          1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Ho #
#                          meAutomation\SampleSwitch\CC2530DB\" -I "D:\R.D    #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\SOURCE\" -I "D:\R.D                #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\SOURCE\" -I "D:\R.D             #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\ZMAIN\TI2530DB\" -I "D:\R.D  #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\..\..\COMPONENTS\MT\" -I     #
#                          "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE     #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\INCLUDE #
#                          \" -I "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530              #
#                          example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Z #
#                          Stack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutom #
#                          ation\SampleSwitch\CC2530DB\..\..\..\..\..\COMPONE #
#                          NTS\HAL\TARGET\CC2530EB\" -I "D:\R.D               #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\MCU\CC #
#                          SOC\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530           #
#                          example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Z #
#                          Stack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutom #
#                          ation\SampleSwitch\CC2530DB\..\..\..\..\..\COMPONE #
#                          NTS\OSAL\INCLUDE\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI     #
#                          CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0- #
#                          1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Ho #
#                          meAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\STACK\AF\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI  #
#                          CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0- #
#                          1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Ho #
#                          meAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\STACK\NWK\" -I "D:\R.D                  #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SEC\" #
#                           -I "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530                #
#                          example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Z #
#                          Stack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutom #
#                          ation\SampleSwitch\CC2530DB\..\..\..\..\..\COMPONE #
#                          NTS\STACK\SAPI\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI       #
#                          CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0- #
#                          1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Ho #
#                          meAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\STACK\SYS\" -I "D:\R.D                  #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\ZCL\" #
#                           -I "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530                #
#                          example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Z #
#                          Stack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutom #
#                          ation\SampleSwitch\CC2530DB\..\..\..\..\..\COMPONE #
#                          NTS\STACK\ZDO\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI        #
#                          CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0- #
#                          1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Ho #
#                          meAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\ZMAC\F8W\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI  #
#                          CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0- #
#                          1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Ho #
#                          meAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\ZMAC\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI      #
#                          CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0- #
#                          1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Ho #
#                          meAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\SERVICES\SADDR\" -I "D:\R.D             #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\..\..\COMPONENTS\SERVICES\SD #
#                          ATA\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530           #
#                          example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Z #
#                          Stack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutom #
#                          ation\SampleSwitch\CC2530DB\..\..\..\..\..\COMPONE #
#                          NTS\MAC\INCLUDE\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI      #
#                          CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0- #
#                          1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Ho #
#                          meAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\MAC\HIGH_LEVEL\" -I "D:\R.D             #
#                          Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE             #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LEV #
#                          EL\srf04\" -I "D:\R.D Dept\µ{¦¡¶}µo\TI CC2530      #
#                          example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Z #
#                          Stack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutom #
#                          ation\SampleSwitch\CC2530DB\..\..\..\..\..\COMPONE #
#                          NTS\MAC\LOW_LEVEL\srf04\SINGLE_CHIP\" -I "C:\IAR   #
#                          Systems\Embedded Workbench MCS 51\8051\INC\" -I    #
#                          "C:\IAR Systems\Embedded Workbench MCS             #
#                          51\8051\INC\CLIB\" -Ohz                            #
#    List file          =  D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE      #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\RouterBB\List\zcl_samplesw_data.lst   #
#    Object file        =  D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE      #
#                          Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwi #
#                          tch\CC2530DB\RouterBB\Obj\zcl_samplesw_data.r51    #
#                                                                             #
#                                                                             #
###############################################################################

D:\R.D Dept\µ{¦¡¶}µo\TI CC2530 example\ZIGBEE Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\HomeAutomation\SampleSwitch\Source\zcl_samplesw_data.c
      1          /**************************************************************************************************
      2            Filename:       zcl_samplesw_data.c
      3            Revised:        $Date: 2008-03-11 11:01:35 -0700 (Tue, 11 Mar 2008) $
      4            Revision:       $Revision: 16570 $
      5          
      6          
      7            Description:    Zigbee Cluster Library - sample device application.
      8          
      9          
     10            Copyright 2006-2007 Texas Instruments Incorporated. All rights reserved.
     11          
     12            IMPORTANT: Your use of this Software is limited to those specific rights
     13            granted under the terms of a software license agreement between the user
     14            who downloaded the software, his/her employer (which must be your employer)
     15            and Texas Instruments Incorporated (the "License").  You may not use this
     16            Software unless you agree to abide by the terms of the License. The License
     17            limits your use, and you acknowledge, that the Software may not be modified,
     18            copied or distributed unless embedded on a Texas Instruments microcontroller
     19            or used solely and exclusively in conjunction with a Texas Instruments radio
     20            frequency transceiver, which is integrated into your product.  Other than for
     21            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     22            works of, modify, distribute, perform, display or sell this Software and/or
     23            its documentation for any purpose.
     24          
     25            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     26            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, 
     27            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, 
     28            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     29            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     30            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     31            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     32            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     33            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     34            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     35            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     36          
     37            Should you have any questions regarding your right to use this Software,
     38            contact Texas Instruments Incorporated at www.TI.com. 
     39          **************************************************************************************************/
     40          
     41          /*********************************************************************
     42           * INCLUDES
     43           */
     44          #include "ZComDef.h"
     45          #include "OSAL.h"
     46          #include "AF.h"
     47          #include "ZDConfig.h"
     48          
     49          #include "zcl.h"
     50          #include "zcl_general.h"
     51          #include "zcl_ha.h"
     52          
     53          #include "zcl_samplesw.h"
     54          
     55          /*********************************************************************
     56           * CONSTANTS
     57           */
     58          
     59          #define SAMPLESW_DEVICE_VERSION     0
     60          #define SAMPLESW_FLAGS              0
     61          
     62          #define SAMPLESW_HWVERSION          0
     63          #define SAMPLESW_ZCLVERSION         0
     64          
     65          /*********************************************************************
     66           * TYPEDEFS
     67           */
     68          
     69          /*********************************************************************
     70           * MACROS
     71           */
     72          
     73          /*********************************************************************
     74           * GLOBAL VARIABLES
     75           */
     76          
     77          // Basic Cluster

   \                                 In  segment XDATA_ROM_C, align 1
     78          const uint8 zclSampleSw_HWRevision = SAMPLESW_HWVERSION;
   \                     zclSampleSw_HWRevision:
   \   000000   00           DB 0

   \                                 In  segment XDATA_ROM_C, align 1
     79          const uint8 zclSampleSw_ZCLVersion = SAMPLESW_ZCLVERSION;
   \                     zclSampleSw_ZCLVersion:
   \   000000   00           DB 0

   \                                 In  segment XDATA_ROM_C, align 1
     80          const uint8 zclSampleSw_ManufacturerName[] = { 16, 'T','e','x','a','s','I','n','s','t','r','u','m','e','n','t','s' };
   \                     zclSampleSw_ManufacturerName:
   \   000000   10546578     DB 16, 84, 101, 120, 97, 115, 73, 110, 115, 116, 114, 117, 109, 101
   \            6173496E
   \            73747275
   \            6D65    
   \   00000E   6E7473       DB 110, 116, 115

   \                                 In  segment XDATA_ROM_C, align 1
     81          const uint8 zclSampleSw_ModelId[] = { 16, 'T','I','0','0','0','1',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ' };
   \                     zclSampleSw_ModelId:
   \   000000   10544930     DB 16, 84, 73, 48, 48, 48, 49, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32
   \            30303120
   \            20202020
   \            20202020
   \            20      

   \                                 In  segment XDATA_ROM_C, align 1
     82          const uint8 zclSampleSw_DateCode[] = { 16, '2','0','0','6','0','8','3','1',' ',' ',' ',' ',' ',' ',' ',' ' };
   \                     zclSampleSw_DateCode:
   \   000000   10323030     DB 16, 50, 48, 48, 54, 48, 56, 51, 49, 32, 32, 32, 32, 32, 32, 32, 32
   \            36303833
   \            31202020
   \            20202020
   \            20      

   \                                 In  segment XDATA_ROM_C, align 1
     83          const uint8 zclSampleSw_PowerSource = POWER_SOURCE_MAINS_1_PHASE;
   \                     zclSampleSw_PowerSource:
   \   000000   01           DB 1
     84          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     85          uint8 zclSampleSw_LocationDescription[17] = { 16, ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ' };
   \                     zclSampleSw_LocationDescription:
   \   000000                DS 17
   \   000011                REQUIRE `?<Initializer for zclSampleSw_LocationDescript`
   \   000011                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     86          uint8 zclSampleSw_PhysicalEnvironment = 0;
   \                     zclSampleSw_PhysicalEnvironment:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
     87          uint8 zclSampleSw_DeviceEnable = DEVICE_ENABLED;
   \                     zclSampleSw_DeviceEnable:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for zclSampleSw_DeviceEnable>`
   \   000001                REQUIRE __INIT_XDATA_I
     88          
     89          // Identify Cluster

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     90          uint16 zclSampleSw_IdentifyTime = 0;
   \                     zclSampleSw_IdentifyTime:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
     91          
     92          // On/Off Cluster

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     93          uint8  zclSampleSw_OnOff = LIGHT_OFF;
   \                     zclSampleSw_OnOff:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     94          
     95          /*********************************************************************
     96           * ATTRIBUTE DEFINITIONS - Uses REAL cluster IDs
     97           */

   \                                 In  segment CODE_C, align 1
     98          CONST zclAttrRec_t zclSampleSw_Attrs[SAMPLESW_MAX_ATTRIBUTES] =
   \                     zclSampleSw_Attrs:
   \   000000   00000300     DW 0, 3
   \   000004   2001         DB 32, 1
   \   000006   ....0000     DW zclSampleSw_HWRevision, 0, 0
   \            0000    
   \   00000C   2001         DB 32, 1
   \   00000E   ....0000     DW zclSampleSw_ZCLVersion, 0, 4
   \            0400    
   \   000014   4201         DB 66, 1
   \   000016   ....0000     DW zclSampleSw_ManufacturerName, 0, 5
   \            0500    
   \   00001C   4201         DB 66, 1
   \   00001E   ....0000     DW zclSampleSw_ModelId, 0, 6
   \            0600    
   \   000024   4201         DB 66, 1
   \   000026   ....0000     DW zclSampleSw_DateCode, 0, 7
   \            0700    
   \   00002C   2001         DB 32, 1
   \   00002E   ....0000     DW zclSampleSw_PowerSource, 0, 16
   \            1000    
   \   000034   4203         DB 66, 3
   \   000036   ....0000     DW zclSampleSw_LocationDescription, 0, 17
   \            1100    
   \   00003C   2003         DB 32, 3
   \   00003E   ....0000     DW zclSampleSw_PhysicalEnvironment, 0, 18
   \            1200    
   \   000044   2003         DB 32, 3
   \   000046   ....0300     DW zclSampleSw_DeviceEnable, 3, 0
   \            0000    
   \   00004C   2103         DB 33, 3
   \   00004E   ....0600     DW zclSampleSw_IdentifyTime, 6, 0
   \            0000    
   \   000054   2001         DB 32, 1
   \   000056   ....         DW zclSampleSw_OnOff
     99          {
    100            // *** General Basic Cluster Attributes ***
    101            {
    102              ZCL_CLUSTER_ID_GEN_BASIC,             // Cluster IDs - defined in the foundation (ie. zcl.h)
    103              {  // Attribute record
    104                ATTRID_BASIC_HW_VERSION,            // Attribute ID - Found in Cluster Library header (ie. zcl_general.h)
    105                ZCL_DATATYPE_UINT8,                 // Data Type - found in zcl.h
    106                ACCESS_CONTROL_READ,                // Variable access control - found in zcl.h
    107                (void *)&zclSampleSw_HWRevision  // Pointer to attribute variable
    108              }
    109            },
    110            {
    111              ZCL_CLUSTER_ID_GEN_BASIC,
    112              { // Attribute record
    113                ATTRID_BASIC_ZCL_VERSION,
    114                ZCL_DATATYPE_UINT8,
    115                ACCESS_CONTROL_READ,
    116                (void *)&zclSampleSw_ZCLVersion
    117              }
    118            },
    119            {
    120              ZCL_CLUSTER_ID_GEN_BASIC,
    121              { // Attribute record
    122                ATTRID_BASIC_MANUFACTURER_NAME,
    123                ZCL_DATATYPE_CHAR_STR,
    124                ACCESS_CONTROL_READ,
    125                (void *)zclSampleSw_ManufacturerName
    126              }
    127            },
    128            {
    129              ZCL_CLUSTER_ID_GEN_BASIC,
    130              { // Attribute record
    131                ATTRID_BASIC_MODEL_ID,
    132                ZCL_DATATYPE_CHAR_STR,
    133                ACCESS_CONTROL_READ,
    134                (void *)zclSampleSw_ModelId
    135              }
    136            },
    137            {
    138              ZCL_CLUSTER_ID_GEN_BASIC,
    139              { // Attribute record
    140                ATTRID_BASIC_DATE_CODE,
    141                ZCL_DATATYPE_CHAR_STR,
    142                ACCESS_CONTROL_READ,
    143                (void *)zclSampleSw_DateCode
    144              }
    145            },
    146            {
    147              ZCL_CLUSTER_ID_GEN_BASIC,
    148              { // Attribute record
    149                ATTRID_BASIC_POWER_SOURCE,
    150                ZCL_DATATYPE_UINT8,
    151                ACCESS_CONTROL_READ,
    152                (void *)&zclSampleSw_PowerSource
    153              }
    154            },
    155            {
    156              ZCL_CLUSTER_ID_GEN_BASIC,
    157              { // Attribute record
    158                ATTRID_BASIC_LOCATION_DESC,
    159                ZCL_DATATYPE_CHAR_STR,
    160                (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE),
    161                (void *)zclSampleSw_LocationDescription
    162              }
    163            },
    164            {
    165              ZCL_CLUSTER_ID_GEN_BASIC,
    166              { // Attribute record
    167                ATTRID_BASIC_PHYSICAL_ENV,
    168                ZCL_DATATYPE_UINT8,
    169                (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE),
    170                (void *)&zclSampleSw_PhysicalEnvironment
    171              }
    172            },
    173            {
    174              ZCL_CLUSTER_ID_GEN_BASIC,
    175              { // Attribute record
    176                ATTRID_BASIC_DEVICE_ENABLED,
    177                ZCL_DATATYPE_UINT8,
    178                (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE),
    179                (void *)&zclSampleSw_DeviceEnable
    180              }
    181            },
    182            
    183            // *** Identify Cluster Attribute ***
    184            {
    185              ZCL_CLUSTER_ID_GEN_IDENTIFY,
    186              { // Attribute record
    187                ATTRID_IDENTIFY_TIME,
    188                ZCL_DATATYPE_UINT16,
    189                (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE),
    190                (void *)&zclSampleSw_IdentifyTime
    191              }
    192            },
    193            
    194            // *** On / Off Cluster Attributes ***
    195            {
    196              ZCL_CLUSTER_ID_GEN_ON_OFF,
    197              { // Attribute record
    198                ATTRID_ON_OFF,
    199                ZCL_DATATYPE_UINT8,
    200                ACCESS_CONTROL_READ,
    201                (void *)&zclSampleSw_OnOff
    202              }
    203            },
    204          };
    205          
    206          /*********************************************************************
    207           * SIMPLE DESCRIPTOR
    208           */
    209          // This is the Cluster ID List and should be filled with Application
    210          // specific cluster IDs.
    211          #define ZCLSAMPLESW_MAX_INCLUSTERS       1

   \                                 In  segment XDATA_ROM_C, align 1
    212          const cId_t zclSampleSw_InClusterList[ZCLSAMPLESW_MAX_INCLUSTERS] =
   \                     zclSampleSw_InClusterList:
   \   000000   0000         DW 0
    213          {
    214            ZCL_CLUSTER_ID_GEN_BASIC
    215          };
    216          
    217          #define ZCLSAMPLESW_MAX_OUTCLUSTERS       1

   \                                 In  segment XDATA_ROM_C, align 1
    218          const cId_t zclSampleSw_OutClusterList[ZCLSAMPLESW_MAX_OUTCLUSTERS] =
   \                     zclSampleSw_OutClusterList:
   \   000000   0600         DW 6
    219          {
    220            ZCL_CLUSTER_ID_GEN_ON_OFF
    221          };
    222          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    223          SimpleDescriptionFormat_t zclSampleSw_SimpleDesc =
   \                     zclSampleSw_SimpleDesc:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for zclSampleSw_SimpleDesc>`
   \   00000C                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleSw_LocationDescript`:
   \   000000   10202020     DB 16, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32
   \            20202020
   \            20202020
   \            20202020
   \            20      

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleSw_DeviceEnable>`:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleSw_SimpleDesc>`:
   \   000000   0C           DB 12
   \   000001   04010000     DW 260, 0
   \   000005   0001         DB 0, 1
   \   000007   ....         DW zclSampleSw_InClusterList
   \   000009   01           DB 1
   \   00000A   ....         DW zclSampleSw_OutClusterList
    224          {
    225            SAMPLESW_ENDPOINT,                  //  int Endpoint;
    226            ZCL_HA_PROFILE_ID,                  //  uint16 AppProfId[2];
    227            ZCL_HA_DEVICEID_ON_OFF_SWITCH,      //  uint16 AppDeviceId[2];
    228            SAMPLESW_DEVICE_VERSION,            //  int   AppDevVer:4;
    229            SAMPLESW_FLAGS,                     //  int   AppFlags:4;
    230            ZCLSAMPLESW_MAX_INCLUSTERS,         //  byte  AppNumInClusters;
    231            (cId_t *)zclSampleSw_InClusterList, //  byte *pAppInClusterList;
    232            ZCLSAMPLESW_MAX_OUTCLUSTERS,        //  byte  AppNumInClusters;
    233            (cId_t *)zclSampleSw_OutClusterList //  byte *pAppInClusterList;
    234          };
    235          
    236          /*********************************************************************
    237           * GLOBAL FUNCTIONS
    238           */
    239          
    240          /*********************************************************************
    241           * LOCAL FUNCTIONS
    242           */
    243          
    244          /****************************************************************************
    245          ****************************************************************************/
    246          
    247          


   Segment part sizes:

     Function/Label                                 Bytes
     --------------                                 -----
     zclSampleSw_HWRevision                            1
     zclSampleSw_ZCLVersion                            1
     zclSampleSw_ManufacturerName                     17
     zclSampleSw_ModelId                              17
     zclSampleSw_DateCode                             17
     zclSampleSw_PowerSource                           1
     zclSampleSw_LocationDescription
                                                      17
     zclSampleSw_PhysicalEnvironment
                                                       1
     zclSampleSw_DeviceEnable                          1
     zclSampleSw_IdentifyTime                          2
     zclSampleSw_OnOff                                 1
     zclSampleSw_Attrs                                88
     zclSampleSw_InClusterList                         2
     zclSampleSw_OutClusterList                        2
     zclSampleSw_SimpleDesc                           12
     ?<Initializer for zclSampleSw_LocationDescript   17
     ?<Initializer for zclSampleSw_DeviceEnable>       1
     ?<Initializer for zclSampleSw_SimpleDesc>        12

 
 88 bytes in segment CODE_C
 30 bytes in segment XDATA_I
 30 bytes in segment XDATA_ID
 58 bytes in segment XDATA_ROM_C
  4 bytes in segment XDATA_Z
 
 118 bytes of CODE  memory
  58 bytes of CONST memory
  34 bytes of XDATA memory

Errors: none
Warnings: none
