###############################################################################
#                                                                             #
# IAR C/C++ Compiler V7.51A/W32 for 8051                24/Sep/2010  14:41:08 #
# Copyright 2004-2009 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\X #
#                          T200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Projects #
#                          \zstack\Sensor Network Application\ZIGBEE          #
#                          Endpoint & Device\Source\hal_sensor.c              #
#    Command line       =  -f "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRout #
#                          er\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Proj #
#                          ects\zstack\Sensor Network Application\ZIGBEE      #
#                          Endpoint & Device\CC2530DB\..\..\..\Tools\CC2530DB #
#                          \f8wEndev.cfg" (-DCPU32MHZ -DROOT=__near_func      #
#                          -DBLINK_LEDS) -f "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-St #
#                          ack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\Sensor Network           #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig. #
#                          cfg" (-DSECURE=0 -DZG_SECURE_DYNAMIC=0             #
#                          -DREFLECTOR -DDEFAULT_CHANLIST=0x00000800          #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=TRUE      #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440)   #
#                          -f "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRout #
#                          er\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Proj #
#                          ects\zstack\Sensor Network Application\ZIGBEE      #
#                          Endpoint & Device\CC2530DB\..\..\..\Tools\CC2530DB #
#                          \f8wZCL.cfg" (-DZCL_READ -DZCL_WRITE -DZCL_BASIC   #
#                          -DZCL_IDENTIFY -DZCL_ON_OFF -DZCL_KEY_ESTABLISH    #
#                          -DZCL_LOAD_CONTROL -DZCL_SIMPLE_METERING           #
#                          -DZCL_PRICING) -DZCL_MESSAGE                       #
#                          "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\ #
#                          XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Project #
#                          s\zstack\Sensor Network Application\ZIGBEE         #
#                          Endpoint & Device\Source\hal_sensor.c" -D          #
#                          NWK_AUTO_POLL -D ZTOOL_P1 -D MT_TASK -D            #
#                          MT_APP_FUNC -D MT_SYS_FUNC -D MT_ZDO_FUNC -D       #
#                          LCD_SUPPORTED=DEBUG -D xPOWER_SAVING -D            #
#                          End_Device -D M200 -D xPA2591 -lC                  #
#                          "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\ #
#                          XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Project #
#                          s\zstack\Sensor Network Application\ZIGBEE         #
#                          Endpoint & Device\CC2530DB\EndDeviceEB_M200\List\" #
#                           -lA "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRo #
#                          uter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Pr #
#                          ojects\zstack\Sensor Network Application\ZIGBEE    #
#                          Endpoint & Device\CC2530DB\EndDeviceEB_M200\List\" #
#                           --diag_suppress Pe001,Pa010 -o                    #
#                          "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\ #
#                          XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Project #
#                          s\zstack\Sensor Network Application\ZIGBEE         #
#                          Endpoint & Device\CC2530DB\EndDeviceEB_M200\Obj\"  #
#                          -e --require_prototypes --debug --core=plain       #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì #
#                          ¤j_Z-Stack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC #
#                          2530-2.3.0-1.4.0\Projects\zstack\Sensor Network    #
#                          Application\ZIGBEE Endpoint & Device\CC2530DB\"    #
#                          -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRout #
#                          er\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Proj #
#                          ects\zstack\Sensor Network Application\ZIGBEE      #
#                          Endpoint & Device\CC2530DB\..\SOURCE\" -I          #
#                          "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\ #
#                          XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Project #
#                          s\zstack\Sensor Network Application\ZIGBEE         #
#                          Endpoint & Device\CC2530DB\..\..\SOURCE\" -I       #
#                          "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\ #
#                          XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Project #
#                          s\zstack\Sensor Network Application\ZIGBEE         #
#                          Endpoint & Device\CC2530DB\..\..\..\ZMAIN\TI2530DB #
#                          \" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeR #
#                          outer\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\P #
#                          rojects\zstack\Sensor Network Application\ZIGBEE   #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\MT\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zi #
#                          gbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1. #
#                          4.0\Projects\zstack\Sensor Network                 #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\INCL #
#                          UDE\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigb #
#                          eeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4. #
#                          0\Projects\zstack\Sensor Network                   #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\MODU #
#                          LE\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigbe #
#                          eRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0 #
#                          \Projects\zstack\Sensor Network                    #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\TARG #
#                          ET\CC2530EB\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-St #
#                          ack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\Sensor Network           #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\MCU #
#                          \CCSOC\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Z #
#                          igbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1 #
#                          .4.0\Projects\zstack\Sensor Network                #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\INC #
#                          LUDE\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zig #
#                          beeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4 #
#                          .0\Projects\zstack\Sensor Network                  #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\AF #
#                          \" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeR #
#                          outer\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\P #
#                          rojects\zstack\Sensor Network Application\ZIGBEE   #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\STACK\NWK\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-S #
#                          tack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2 #
#                          .3.0-1.4.0\Projects\zstack\Sensor Network          #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SE #
#                          C\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigbee #
#                          Router\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ #
#                          Projects\zstack\Sensor Network Application\ZIGBEE  #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\STACK\SAPI\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z- #
#                          Stack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530- #
#                          2.3.0-1.4.0\Projects\zstack\Sensor Network         #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SY #
#                          S\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigbee #
#                          Router\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ #
#                          Projects\zstack\Sensor Network Application\ZIGBEE  #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\STACK\ZCL\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-S #
#                          tack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2 #
#                          .3.0-1.4.0\Projects\zstack\Sensor Network          #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\ZD #
#                          O\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigbee #
#                          Router\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ #
#                          Projects\zstack\Sensor Network Application\ZIGBEE  #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\ZMAC\F8W\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-St #
#                          ack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\Sensor Network           #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\ZMAC\"   #
#                          -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRout #
#                          er\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Proj #
#                          ects\zstack\Sensor Network Application\ZIGBEE      #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\SERVICES\SADDR\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤ #
#                          j_Z-Stack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2 #
#                          530-2.3.0-1.4.0\Projects\zstack\Sensor Network     #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\SERVICES #
#                          \SDATA\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Z #
#                          igbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1 #
#                          .4.0\Projects\zstack\Sensor Network                #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\INCL #
#                          UDE\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigb #
#                          eeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4. #
#                          0\Projects\zstack\Sensor Network                   #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\HIGH #
#                          _LEVEL\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Z #
#                          igbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1 #
#                          .4.0\Projects\zstack\Sensor Network                #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_ #
#                          LEVEL\srf04\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-St #
#                          ack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\Sensor Network           #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_ #
#                          LEVEL\srf04\SINGLE_CHIP\" -I "C:\IAR               #
#                          Systems\Embedded Workbench for MCS-51              #
#                          V7.51\8051\INC\" -I "C:\IAR Systems\Embedded       #
#                          Workbench for MCS-51 V7.51\8051\INC\CLIB\" -Ohz    #
#    List file          =  D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\X #
#                          T200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Projects #
#                          \zstack\Sensor Network Application\ZIGBEE          #
#                          Endpoint & Device\CC2530DB\EndDeviceEB_M200\List\h #
#                          al_sensor.lst                                      #
#    Object file        =  D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\X #
#                          T200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Projects #
#                          \zstack\Sensor Network Application\ZIGBEE          #
#                          Endpoint & Device\CC2530DB\EndDeviceEB_M200\Obj\ha #
#                          l_sensor.r51                                       #
#                                                                             #
#                                                                             #
###############################################################################

D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Projects\zstack\Sensor Network Application\ZIGBEE Endpoint & Device\Source\hal_sensor.c
      1          /**************************************************************************************************
      2            Filename:       hal_sensor.c
      3            Revised:        $Date: 2010-07-14 (Wed, 14 July 2010) $
      4            Revision:       $Revision: 19453 $
      5          
      6            Description:    HAL Sensor - the device receive the sensor data application.
      7          
      8            Copyright 2006-2009 Texas Instruments Incorporated. All rights reserved.
      9          
     10            Should you have any questions regarding your right to use this Software,
     11            contact Texas Instruments Incorporated at www.TI.com.
     12          **************************************************************************************************/
     13          /*********************************************************************
     14           * INCLUDES
     15           */  
     16          #include "ZComDef.h"
     17          #include "OSAL.h"
     18          #include "AF.h"
     19          #include "ZDApp.h"
     20          #include "ZDObject.h"
     21          #include "ZDProfile.h"
     22          
     23          #include "mac_radio_defs.h"
     24          
     25          /* ZCL */
     26          #include "zcl.h"
     27          #include "zcl_general.h"
     28          #include "zcl_ha.h"
     29          #include "zcl_zigbee device.h"
     30          
     31          /* HAL */
     32          #include "onboard.h"
     33          #include "hal_lcd.h"
     34          #include "hal_led.h"
     35          #include "hal_key.h"
     36          #include "MT_UART.h"
     37          #include "hal_uart.h"
     38          #include "hal_timer.h"
     39          #include "hal_keypad.h"
     40          #include "hal_buzzer.h"
     41            
     42          /* HAL Sensor */
     43          #include "hal_sensor.h"
     44          #if defined(M140)
     45            #include "M140.h"
     46          #endif
     47          #if defined(M170)
     48            #include "M170.h"
     49          #endif
     50          #if defined(M200)
     51            #include "M200.h"
     52          #endif
     53          
     54          /*********************************************************************
     55           * GLOBAL VARIABLES
     56           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     57           byte TransmitApp_Msg[ TRANSMITAPP_MAX_DATA_LEN ]; 
   \                     TransmitApp_Msg:
   \   000000                DS 102
   \   000066                REQUIRE __INIT_XDATA_Z
     58           
     59          /*********************************************************************
     60           * LOCAL VARIABLES
     61           */
     62          /*********************************************************************
     63           * LOCAL FUNCTIONS
     64           */
     65           void M140_SensorFunction(void); // M140 Module function
     66           void M170_SensorFunction(void); // M170 Module function
     67           void M200_SensorFunction(void); // M200 Module function
     68           
     69          #if defined(M140)
     70          /*********************************************************************
     71           * @fn          M140_SensorFunction
     72           * @brief       The ZIGBEE Device to receive the M140 tempture data.
     73           */
     74           void M140_SensorFunction(void)
     75           {
     76            // M140 sensor variable
     77            uint16 val;
     78            uint8 tmp1, tmp2, tmp3, tmp4;
     79            // ZCL transmit variable
     80            uint8 len;
     81            
     82            // initilization the device
     83            M140_Init();
     84                    
     85          #if defined ( LCD_SUPPORTED )
     86          //  HalLcd_HW_Clear();
     87            HalLcdWriteString("* Z-Stack M140 *", HAL_LCD_LINE_1);
     88            HalLcdWriteString(" Temp. =       C", HAL_LCD_LINE_2);
     89            HalLcdWriteChar(HAL_LCD_LINE_2, 14, 0xDF);
     90          #endif
     91                
     92              val = M140_GetValue();  
     93              if((0x2000 & val) == 0x2000) // check sign bit for negative value
     94              {
     95                val = ((val - 16384) * 10) / 32;
     96              }
     97              else
     98              {
     99                val = (val * 10) / 32;
    100              }
    101              tmp1 = (val / 100) + '0';
    102              TransmitApp_Msg[0] = tmp1;
    103              
    104              tmp2 = ((val / 10) % 10) + '0';
    105              TransmitApp_Msg[1] = tmp2;
    106              
    107              tmp3 = '.';
    108              TransmitApp_Msg[2] = tmp3;
    109              
    110              tmp4 = (val % 10) + '0';
    111              TransmitApp_Msg[3] = tmp4;
    112              len = 4;
    113              
    114          #if defined ( LCD_SUPPORTED )
    115                  HalLcdWriteChar(HAL_LCD_LINE_2, 9, tmp1);
    116                  HalLcdWriteChar(HAL_LCD_LINE_2, 10, tmp2);
    117                  HalLcdWriteChar(HAL_LCD_LINE_2, 11, tmp3);
    118                  HalLcdWriteChar(HAL_LCD_LINE_2, 12, tmp4);
    119          #endif 
    120                  
    121              HalUARTWrite(MT_UART_DEFAULT_PORT, TransmitApp_Msg, len);
    122              halMcuWaitMs(30);
    123              
    124              uint8 temp = zcl_SendCommand( ZIGBEEDEVICE_ENDPOINT,
    125                                            &zclZigbeeDevice_DstAddr,
    126                                            ZCL_CLUSTER_ID_GEN_ON_OFF,
    127                                            ZCL_CLUSTER_ID_GEN_BASIC,
    128                                            TRUE,
    129                                            ZCL_FRAME_CLIENT_SERVER_DIR,
    130                                            false,
    131                                            0,
    132                                            0,
    133                                            len,
    134                                            TransmitApp_Msg );
    135              
    136              halMcuWaitMs(300);    
    137           }
    138          #endif
    139           
    140          #if defined(M170)
    141          /*********************************************************************
    142           * @fn          M170_SensorFunction
    143           * @brief       The ZIGBEE Device to receive the M170 optical data.
    144           */
    145           void M170_SensorFunction(void)
    146           {
    147              // M170 sensor variable
    148              uint16 val;
    149              uint8 tmp1, tmp2, tmp3;
    150              // ZCL transmit variable
    151              uint8 len;
    152                
    153              // initilization the device
    154              M170_Init();
    155              
    156          #if defined ( LCD_SUPPORTED )
    157          //  HalLcd_HW_Clear();
    158            HalLcdWriteString("* Z-Stack M170 *", HAL_LCD_LINE_1);
    159            HalLcdWriteString(" Bright =     % ", HAL_LCD_LINE_2);
    160          #endif
    161            
    162             val = M170_GetValue();
    163             if (val > 2000)
    164             {
    165                val -= 2000;
    166             }
    167             else
    168              {
    169                val = 0;
    170              }val /= 120;
    171                      
    172             if (val > 100)
    173             {
    174                val = 100;
    175             }
    176             
    177             tmp1 = (val / 100) + '0';
    178             TransmitApp_Msg[0] = tmp1;
    179             
    180             tmp2 = ((val / 10) % 10) + '0';
    181             TransmitApp_Msg[1] = tmp2;
    182             
    183             tmp3 = (val % 10) + '0';
    184             TransmitApp_Msg[2] = tmp3;
    185             
    186          #if defined ( LCD_SUPPORTED )
    187             HalLcdWriteChar(HAL_LCD_LINE_2, 10, tmp1);
    188             HalLcdWriteChar(HAL_LCD_LINE_2, 11, tmp2);
    189             HalLcdWriteChar(HAL_LCD_LINE_2, 12, tmp3);
    190          #endif
    191             halMcuWaitMs(300); 
    192             
    193             len = 3;
    194             
    195             uint8 temp = zcl_SendCommand( ZIGBEEDEVICE_ENDPOINT,
    196                                           &zclZigbeeDevice_DstAddr,
    197                                           ZCL_CLUSTER_ID_GEN_ON_OFF,
    198                                           ZCL_CLUSTER_ID_GEN_BASIC,
    199                                           TRUE,
    200                                           ZCL_FRAME_CLIENT_SERVER_DIR,
    201                                           false,
    202                                           0,
    203                                           0,
    204                                           len,
    205                                           TransmitApp_Msg );
    206           }
    207          #endif
    208           
    209          #if defined(M200)
    210          /*********************************************************************
    211           * @fn          M200_SensorFunction
    212           * @brief       The ZIGBEE Device to receive the M200 Temp and Humi data.
    213           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    214           void M200_SensorFunction(void)
   \                     M200_SensorFunction:
    215           {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
    216              // M200 module variable
    217              uint16 temp, humi;
    218              uint8 hum_1,hum_2,hum_3,hum_4;
    219              uint8 temp_1,temp_2,temp_3,temp_4;
    220              uint8 len;
    221                
    222              // initilization the device
    223              M200_Init();
   \   000005                ; Setup parameters for call to function M200_Init
   \   000005   12....       LCALL   ??M200_Init?relay
    224              
    225          #if defined ( LCD_SUPPORTED )
    226          //    HalLcd_HW_Clear();
    227              HalLcdWriteString("Humidity=      %", HAL_LCD_LINE_1);
   \   000008                ; Setup parameters for call to function HalLcdWriteString
   \   000008   7901         MOV     R1,#0x1
   \   00000A   7A..         MOV     R2,#(`?<Constant "Humidity=      %">` & 0xff)
   \   00000C   7B..         MOV     R3,#((`?<Constant "Humidity=      %">` >> 8) & 0xff)
   \   00000E   12....       LCALL   ??HalLcdWriteString?relay
    228              HalLcdWriteString(" Temp. =       C", HAL_LCD_LINE_2);
   \   000011                ; Setup parameters for call to function HalLcdWriteString
   \   000011   7902         MOV     R1,#0x2
   \   000013   7A..         MOV     R2,#(`?<Constant " Temp. =       C">` & 0xff)
   \   000015   7B..         MOV     R3,#((`?<Constant " Temp. =       C">` >> 8) & 0xff)
   \   000017   12....       LCALL   ??HalLcdWriteString?relay
    229          #endif
    230            
    231              M200_GetValue();
   \   00001A                ; Setup parameters for call to function M200_GetValue
   \   00001A   12....       LCALL   ??M200_GetValue?relay
    232              temp = (uint16)(((((float)M200_Temp) *0.01) - 40.0) *10.0);
   \   00001D   90....       MOV     DPTR,#M200_Temp
   \   000020   12....       LCALL   ?Subroutine0 & 0xFFFF
   \                     ??CrossCallReturnLabel_0:
   \   000023   12....       LCALL   ?UL_TO_FLT
   \   000026   90....       MOV     DPTR,#__Constant_3c23d70a
   \   000029   78..         MOV     R0,#?V0 + 4
   \   00002B   12....       LCALL   ?L_MOV_X
   \   00002E   78..         MOV     R0,#?V0 + 0
   \   000030   79..         MOV     R1,#?V0 + 4
   \   000032   12....       LCALL   ?FLT_MUL
   \   000035   90....       MOV     DPTR,#__Constant_c2200000
   \   000038   78..         MOV     R0,#?V0 + 4
   \   00003A   12....       LCALL   ?L_MOV_X
   \   00003D   78..         MOV     R0,#?V0 + 0
   \   00003F   79..         MOV     R1,#?V0 + 4
   \   000041   12....       LCALL   ?FLT_ADD
   \   000044   90....       MOV     DPTR,#__Constant_41200000
   \   000047   78..         MOV     R0,#?V0 + 4
   \   000049   12....       LCALL   ?L_MOV_X
   \   00004C   78..         MOV     R0,#?V0 + 0
   \   00004E   79..         MOV     R1,#?V0 + 4
   \   000050   12....       LCALL   ?FLT_MUL
   \   000053   78..         MOV     R0,#?V0 + 0
   \   000055   12....       LCALL   ?FLT_TO_L
   \   000058   AC..         MOV     R4,?V0 + 0
   \   00005A   AD..         MOV     R5,?V0 + 1
    233              humi = (uint16)(((((float)M200_Humi) *0.0405) - (((float)M200_Humi)*((float)M200_Humi) *0.0000028) - 4.0) *10.0);
   \   00005C   90....       MOV     DPTR,#M200_Humi
   \   00005F   12....       LCALL   ?Subroutine0 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   000062   12....       LCALL   ?UL_TO_FLT
   \   000065   85....       MOV     ?V0 + 8,?V0 + 0
   \   000068   85....       MOV     ?V0 + 9,?V0 + 1
   \   00006B   85....       MOV     ?V0 + 10,?V0 + 2
   \   00006E   85....       MOV     ?V0 + 11,?V0 + 3
   \   000071   90....       MOV     DPTR,#__Constant_3d25e354
   \   000074   78..         MOV     R0,#?V0 + 4
   \   000076   12....       LCALL   ?L_MOV_X
   \   000079   78..         MOV     R0,#?V0 + 8
   \   00007B   79..         MOV     R1,#?V0 + 4
   \   00007D   12....       LCALL   ?FLT_MUL
   \   000080   85....       MOV     ?V0 + 4,?V0 + 0
   \   000083   85....       MOV     ?V0 + 5,?V0 + 1
   \   000086   85....       MOV     ?V0 + 6,?V0 + 2
   \   000089   85....       MOV     ?V0 + 7,?V0 + 3
   \   00008C   78..         MOV     R0,#?V0 + 4
   \   00008E   79..         MOV     R1,#?V0 + 0
   \   000090   12....       LCALL   ?FLT_MUL
   \   000093   90....       MOV     DPTR,#__Constant_363be7a2
   \   000096   78..         MOV     R0,#?V0 + 0
   \   000098   12....       LCALL   ?L_MOV_X
   \   00009B   78..         MOV     R0,#?V0 + 4
   \   00009D   79..         MOV     R1,#?V0 + 0
   \   00009F   12....       LCALL   ?FLT_MUL
   \   0000A2   78..         MOV     R0,#?V0 + 8
   \   0000A4   79..         MOV     R1,#?V0 + 4
   \   0000A6   12....       LCALL   ?FLT_SUB
   \   0000A9   90....       MOV     DPTR,#__Constant_c0800000
   \   0000AC   78..         MOV     R0,#?V0 + 0
   \   0000AE   12....       LCALL   ?L_MOV_X
   \   0000B1   78..         MOV     R0,#?V0 + 8
   \   0000B3   79..         MOV     R1,#?V0 + 0
   \   0000B5   12....       LCALL   ?FLT_ADD
   \   0000B8   90....       MOV     DPTR,#__Constant_41200000
   \   0000BB   78..         MOV     R0,#?V0 + 0
   \   0000BD   12....       LCALL   ?L_MOV_X
   \   0000C0   78..         MOV     R0,#?V0 + 8
   \   0000C2   79..         MOV     R1,#?V0 + 0
   \   0000C4   12....       LCALL   ?FLT_MUL
   \   0000C7   78..         MOV     R0,#?V0 + 8
   \   0000C9   12....       LCALL   ?FLT_TO_L
   \   0000CC   AE..         MOV     R6,?V0 + 8
   \   0000CE   AF..         MOV     R7,?V0 + 9
    234              if (humi > 999)
   \   0000D0   C3           CLR     C
   \   0000D1   EE           MOV     A,R6
   \   0000D2   94E8         SUBB    A,#-0x18
   \   0000D4   EF           MOV     A,R7
   \   0000D5   9403         SUBB    A,#0x3
   \   0000D7   4004         JC      ??M200_SensorFunction_0
    235              {
    236                humi = 999;
   \   0000D9   7EE7         MOV     R6,#-0x19
   \   0000DB   7F03         MOV     R7,#0x3
    237              }
    238              if (temp > 999)
   \                     ??M200_SensorFunction_0:
   \   0000DD   C3           CLR     C
   \   0000DE   EC           MOV     A,R4
   \   0000DF   94E8         SUBB    A,#-0x18
   \   0000E1   ED           MOV     A,R5
   \   0000E2   9403         SUBB    A,#0x3
   \   0000E4   4004         JC      ??M200_SensorFunction_1
    239              {
    240                temp = 999;
   \   0000E6   7CE7         MOV     R4,#-0x19
   \   0000E8   7D03         MOV     R5,#0x3
    241              }
    242              hum_1 = (humi / 100) + '0';
   \                     ??M200_SensorFunction_1:
   \   0000EA   EE           MOV     A,R6
   \   0000EB   F8           MOV     R0,A
   \   0000EC   EF           MOV     A,R7
   \   0000ED   F9           MOV     R1,A
   \   0000EE   7A64         MOV     R2,#0x64
   \   0000F0   7B00         MOV     R3,#0x0
   \   0000F2   12....       LCALL   ?US_DIV_MOD
   \   0000F5   E8           MOV     A,R0
   \   0000F6   2430         ADD     A,#0x30
   \   0000F8   F5..         MOV     ?V0 + 0,A
    243              TransmitApp_Msg[0] = hum_1;
   \   0000FA   90....       MOV     DPTR,#TransmitApp_Msg
   \   0000FD   12....       LCALL   ?Subroutine1 & 0xFFFF
    244              
    245              hum_2 = ((humi / 10) % 10) + '0';
   \                     ??CrossCallReturnLabel_2:
   \   000100   12....       LCALL   ?US_DIV_MOD
   \   000103   7A0A         MOV     R2,#0xa
   \   000105   7B00         MOV     R3,#0x0
   \   000107   12....       LCALL   ?US_DIV_MOD
   \   00010A   EA           MOV     A,R2
   \   00010B   2430         ADD     A,#0x30
   \   00010D   F5..         MOV     ?V0 + 1,A
    246              TransmitApp_Msg[1] = hum_2;
   \   00010F   90....       MOV     DPTR,#(TransmitApp_Msg + 1)
   \   000112   F0           MOVX    @DPTR,A
    247              
    248              hum_3 = '.';
    249              TransmitApp_Msg[2] = hum_3;
   \   000113   742E         MOV     A,#0x2e
   \   000115   90....       MOV     DPTR,#(TransmitApp_Msg + 2)
   \   000118   12....       LCALL   ?Subroutine1 & 0xFFFF
    250              
    251              hum_4 = (humi % 10) + '0';
   \                     ??CrossCallReturnLabel_3:
   \   00011B   12....       LCALL   ?US_DIV_MOD
   \   00011E   EA           MOV     A,R2
   \   00011F   2430         ADD     A,#0x30
   \   000121   FE           MOV     R6,A
    252              TransmitApp_Msg[3] = hum_4;
   \   000122   90....       MOV     DPTR,#(TransmitApp_Msg + 3)
   \   000125   F0           MOVX    @DPTR,A
    253              
    254              TransmitApp_Msg[4] = ' ';
   \   000126   7420         MOV     A,#0x20
   \   000128   90....       MOV     DPTR,#(TransmitApp_Msg + 4)
   \   00012B   F0           MOVX    @DPTR,A
    255              
    256              temp_1 = (temp / 100) + '0';
   \   00012C   EC           MOV     A,R4
   \   00012D   F8           MOV     R0,A
   \   00012E   ED           MOV     A,R5
   \   00012F   F9           MOV     R1,A
   \   000130   7A64         MOV     R2,#0x64
   \   000132   7B00         MOV     R3,#0x0
   \   000134   12....       LCALL   ?US_DIV_MOD
   \   000137   E8           MOV     A,R0
   \   000138   2430         ADD     A,#0x30
   \   00013A   FF           MOV     R7,A
    257              TransmitApp_Msg[5] = temp_1;
   \   00013B   90....       MOV     DPTR,#(TransmitApp_Msg + 5)
   \   00013E   12....       LCALL   ?Subroutine2 & 0xFFFF
    258              
    259              temp_2 = ((temp / 10) % 10) + '0';
   \                     ??CrossCallReturnLabel_4:
   \   000141   12....       LCALL   ?US_DIV_MOD
   \   000144   7A0A         MOV     R2,#0xa
   \   000146   7B00         MOV     R3,#0x0
   \   000148   12....       LCALL   ?US_DIV_MOD
   \   00014B   EA           MOV     A,R2
   \   00014C   2430         ADD     A,#0x30
   \   00014E   F5..         MOV     ?V0 + 2,A
    260              TransmitApp_Msg[6] = temp_2;
   \   000150   90....       MOV     DPTR,#(TransmitApp_Msg + 6)
   \   000153   F0           MOVX    @DPTR,A
    261              
    262              temp_3 = '.';
    263              TransmitApp_Msg[7] = temp_3;
   \   000154   742E         MOV     A,#0x2e
   \   000156   90....       MOV     DPTR,#(TransmitApp_Msg + 7)
   \   000159   12....       LCALL   ?Subroutine2 & 0xFFFF
    264              
    265              temp_4 = (temp % 10) + '0';
   \                     ??CrossCallReturnLabel_5:
   \   00015C   12....       LCALL   ?US_DIV_MOD
   \   00015F   EA           MOV     A,R2
   \   000160   2430         ADD     A,#0x30
   \   000162   F5..         MOV     ?V0 + 3,A
    266              TransmitApp_Msg[8] = temp_4;
   \   000164   90....       MOV     DPTR,#(TransmitApp_Msg + 8)
   \   000167   F0           MOVX    @DPTR,A
    267              
    268              len = 9;
    269              
    270          #if defined ( LCD_SUPPORTED )
    271              // Humi
    272              HalLcdWriteChar(HAL_LCD_LINE_1, 10, hum_1);
   \   000168                ; Setup parameters for call to function HalLcdWriteChar
   \   000168   AB..         MOV     R3,?V0 + 0
   \   00016A   7A0A         MOV     R2,#0xa
   \   00016C   7901         MOV     R1,#0x1
   \   00016E   12....       LCALL   ??HalLcdWriteChar?relay
    273              HalLcdWriteChar(HAL_LCD_LINE_1, 11, hum_2);
   \   000171                ; Setup parameters for call to function HalLcdWriteChar
   \   000171   AB..         MOV     R3,?V0 + 1
   \   000173   7A0B         MOV     R2,#0xb
   \   000175   7901         MOV     R1,#0x1
   \   000177   12....       LCALL   ??HalLcdWriteChar?relay
    274              HalLcdWriteChar(HAL_LCD_LINE_1, 12, hum_3);
   \   00017A                ; Setup parameters for call to function HalLcdWriteChar
   \   00017A   7B2E         MOV     R3,#0x2e
   \   00017C   7A0C         MOV     R2,#0xc
   \   00017E   7901         MOV     R1,#0x1
   \   000180   12....       LCALL   ??HalLcdWriteChar?relay
    275              HalLcdWriteChar(HAL_LCD_LINE_1, 13, hum_4);
   \   000183                ; Setup parameters for call to function HalLcdWriteChar
   \   000183   EE           MOV     A,R6
   \   000184   FB           MOV     R3,A
   \   000185   7A0D         MOV     R2,#0xd
   \   000187   7901         MOV     R1,#0x1
   \   000189   12....       LCALL   ??HalLcdWriteChar?relay
    276              // Temp
    277              HalLcdWriteChar(HAL_LCD_LINE_2, 9, temp_1);
   \   00018C                ; Setup parameters for call to function HalLcdWriteChar
   \   00018C   EF           MOV     A,R7
   \   00018D   FB           MOV     R3,A
   \   00018E   7A09         MOV     R2,#0x9
   \   000190   7902         MOV     R1,#0x2
   \   000192   12....       LCALL   ??HalLcdWriteChar?relay
    278              HalLcdWriteChar(HAL_LCD_LINE_2, 10, temp_2);
   \   000195                ; Setup parameters for call to function HalLcdWriteChar
   \   000195   AB..         MOV     R3,?V0 + 2
   \   000197   7A0A         MOV     R2,#0xa
   \   000199   7902         MOV     R1,#0x2
   \   00019B   12....       LCALL   ??HalLcdWriteChar?relay
    279              HalLcdWriteChar(HAL_LCD_LINE_2, 11, temp_3);
   \   00019E                ; Setup parameters for call to function HalLcdWriteChar
   \   00019E   7B2E         MOV     R3,#0x2e
   \   0001A0   7A0B         MOV     R2,#0xb
   \   0001A2   7902         MOV     R1,#0x2
   \   0001A4   12....       LCALL   ??HalLcdWriteChar?relay
    280              HalLcdWriteChar(HAL_LCD_LINE_2, 12, temp_4);
   \   0001A7                ; Setup parameters for call to function HalLcdWriteChar
   \   0001A7   AB..         MOV     R3,?V0 + 3
   \   0001A9   7A0C         MOV     R2,#0xc
   \   0001AB   7902         MOV     R1,#0x2
   \   0001AD   12....       LCALL   ??HalLcdWriteChar?relay
    281          #endif
    282              halMcuWaitMs(300);
   \   0001B0                ; Setup parameters for call to function halMcuWaitMs
   \   0001B0   7A2C         MOV     R2,#0x2c
   \   0001B2   7B01         MOV     R3,#0x1
   \   0001B4   12....       LCALL   ??halMcuWaitMs?relay
    283            
    284              uint8 tmp = zcl_SendCommand( ZIGBEEDEVICE_ENDPOINT,
    285                                           &zclZigbeeDevice_DstAddr,
    286                                           ZCL_CLUSTER_ID_GEN_ON_OFF,
    287                                           ZCL_CLUSTER_ID_GEN_BASIC,
    288                                           TRUE,
    289                                           ZCL_FRAME_CLIENT_SERVER_DIR,
    290                                           false,
    291                                           0,
    292                                           0,
    293                                           len,
    294                                           TransmitApp_Msg );
   \   0001B7                ; Setup parameters for call to function zcl_SendCommand
   \   0001B7   75....       MOV     ?V0 + 0,#(TransmitApp_Msg & 0xff)
   \   0001BA   75....       MOV     ?V0 + 1,#((TransmitApp_Msg >> 8) & 0xff)
   \   0001BD   78..         MOV     R0,#?V0 + 0
   \   0001BF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001C2   75..09       MOV     ?V0 + 0,#0x9
   \   0001C5   75..00       MOV     ?V0 + 1,#0x0
   \   0001C8   78..         MOV     R0,#?V0 + 0
   \   0001CA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001CD   75..00       MOV     ?V0 + 0,#0x0
   \   0001D0   78..         MOV     R0,#?V0 + 0
   \   0001D2   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001D5   78..         MOV     R0,#?V0 + 0
   \   0001D7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001DA   78..         MOV     R0,#?V0 + 0
   \   0001DC   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001DF   78..         MOV     R0,#?V0 + 0
   \   0001E1   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001E4   75..01       MOV     ?V0 + 0,#0x1
   \   0001E7   78..         MOV     R0,#?V0 + 0
   \   0001E9   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001EC   75..00       MOV     ?V0 + 0,#0x0
   \   0001EF   78..         MOV     R0,#?V0 + 0
   \   0001F1   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001F4   7C06         MOV     R4,#0x6
   \   0001F6   7D00         MOV     R5,#0x0
   \   0001F8   7A..         MOV     R2,#(zclZigbeeDevice_DstAddr & 0xff)
   \   0001FA   7B..         MOV     R3,#((zclZigbeeDevice_DstAddr >> 8) & 0xff)
   \   0001FC   790C         MOV     R1,#0xc
   \   0001FE   12....       LCALL   ??zcl_SendCommand?relay
   \   000201   740B         MOV     A,#0xb
   \   000203   12....       LCALL   ?DEALLOC_XSTACK8
    295           }
   \   000206   7F0C         MOV     R7,#0xc
   \   000208   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   EC           MOV     A,R4
   \   000002   F8           MOV     R0,A
   \   000003   ED           MOV     A,R5
   \   000004                REQUIRE ?Subroutine3
   \   000004                ; // Fall through to label ?Subroutine3

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   F9           MOV     R1,A
   \   000001   7A0A         MOV     R2,#0xa
   \   000003   7B00         MOV     R3,#0x0
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   EE           MOV     A,R6
   \   000002   F8           MOV     R0,A
   \   000003   EF           MOV     A,R7
   \   000004   80..         SJMP    ?Subroutine3

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 0,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V0 + 1,A
   \   000007   75..00       MOV     ?V0 + 2,#0x0
   \   00000A   75..00       MOV     ?V0 + 3,#0x0
   \   00000D   78..         MOV     R0,#?V0 + 0
   \   00000F   22           RET

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??M200_SensorFunction?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    M200_SensorFunction

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Humidity=      %">`:
   \   000000   48756D69     DB "Humidity=      %"
   \            64697479
   \            3D202020
   \            20202025
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant " Temp. =       C">`:
   \   000000   2054656D     DB " Temp. =       C"
   \            702E203D
   \            20202020
   \            20202043
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3c23d70a:
   \   000000   0AD7233C     DD 3C23D70AH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_c2200000:
   \   000000   000020C2     DD 0C2200000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_41200000:
   \   000000   00002041     DD 41200000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3d25e354:
   \   000000   54E3253D     DD 3D25E354H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_363be7a2:
   \   000000   A2E73B36     DD 363BE7A2H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_c0800000:
   \   000000   000080C0     DD 0C0800000H
    296          #endif

   Maximum stack usage in bytes:

     Function               ISTACK PSTACK XSTACK
     --------               ------ ------ ------
     M200_SensorFunction        0      0     31
       -> M200_Init             0      0     40
       -> HalLcdWriteString     0      0     40
       -> HalLcdWriteString     0      0     40
       -> M200_GetValue         0      0     40
       -> HalLcdWriteChar       0      0     40
       -> HalLcdWriteChar       0      0     40
       -> HalLcdWriteChar       0      0     40
       -> HalLcdWriteChar       0      0     40
       -> HalLcdWriteChar       0      0     40
       -> HalLcdWriteChar       0      0     40
       -> HalLcdWriteChar       0      0     40
       -> HalLcdWriteChar       0      0     40
       -> halMcuWaitMs          0      0     40
       -> zcl_SendCommand       0      0     62


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     TransmitApp_Msg                 102
     M200_SensorFunction             523
     ?Subroutine2                      4
     ?Subroutine3                      6
     ?Subroutine1                      6
     ?Subroutine0                     16
     ??M200_SensorFunction?relay       6
     ?<Constant "Humidity=      %">   17
     ?<Constant " Temp. =       C">   17
     __Constant_3c23d70a               4
     __Constant_c2200000               4
     __Constant_41200000               4
     __Constant_3d25e354               4
     __Constant_363be7a2               4
     __Constant_c0800000               4

 
 555 bytes in segment BANKED_CODE
   6 bytes in segment BANK_RELAYS
  58 bytes in segment XDATA_ROM_C
 102 bytes in segment XDATA_Z
 
 561 bytes of CODE  memory
  34 bytes of CONST memory (+ 24 bytes shared)
 102 bytes of XDATA memory

Errors: none
Warnings: none
