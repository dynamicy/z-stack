###############################################################################
#                                                                             #
# IAR C/C++ Compiler V7.51A/W32 for 8051                24/Sep/2010  10:06:50 #
# Copyright 2004-2009 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\X #
#                          T200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Componen #
#                          ts\hal\module\M200.c                               #
#    Command line       =  -f "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRout #
#                          er\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Proj #
#                          ects\zstack\Sensor Network Application\ZIGBEE      #
#                          Endpoint & Device\CC2530DB\..\..\..\Tools\CC2530DB #
#                          \f8wEndev.cfg" (-DCPU32MHZ -DROOT=__near_func      #
#                          -DBLINK_LEDS) -f "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-St #
#                          ack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\Sensor Network           #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig. #
#                          cfg" (-DSECURE=0 -DZG_SECURE_DYNAMIC=0             #
#                          -DREFLECTOR -DDEFAULT_CHANLIST=0x00000800          #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=TRUE      #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440)   #
#                          -f "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRout #
#                          er\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Proj #
#                          ects\zstack\Sensor Network Application\ZIGBEE      #
#                          Endpoint & Device\CC2530DB\..\..\..\Tools\CC2530DB #
#                          \f8wZCL.cfg" (-DZCL_READ -DZCL_WRITE -DZCL_BASIC   #
#                          -DZCL_IDENTIFY -DZCL_ON_OFF -DZCL_KEY_ESTABLISH    #
#                          -DZCL_LOAD_CONTROL -DZCL_SIMPLE_METERING           #
#                          -DZCL_PRICING) -DZCL_MESSAGE                       #
#                          D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\X #
#                          T200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Componen #
#                          ts\hal\module\M200.c -D NWK_AUTO_POLL -D ZTOOL_P1  #
#                          -D MT_TASK -D MT_APP_FUNC -D MT_SYS_FUNC -D        #
#                          MT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG -D              #
#                          xPOWER_SAVING -D End_Device -D xPA2591 -D M200     #
#                          -lC "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRou #
#                          ter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Pro #
#                          jects\zstack\Sensor Network Application\ZIGBEE     #
#                          Endpoint & Device\CC2530DB\EndDeviceKB_M200\List\" #
#                           -lA "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRo #
#                          uter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Pr #
#                          ojects\zstack\Sensor Network Application\ZIGBEE    #
#                          Endpoint & Device\CC2530DB\EndDeviceKB_M200\List\" #
#                           --diag_suppress Pe001,Pa010 -o                    #
#                          "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\ #
#                          XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Project #
#                          s\zstack\Sensor Network Application\ZIGBEE         #
#                          Endpoint & Device\CC2530DB\EndDeviceKB_M200\Obj\"  #
#                          -e --require_prototypes --debug --core=plain       #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì #
#                          ¤j_Z-Stack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC #
#                          2530-2.3.0-1.4.0\Projects\zstack\Sensor Network    #
#                          Application\ZIGBEE Endpoint & Device\CC2530DB\"    #
#                          -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRout #
#                          er\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Proj #
#                          ects\zstack\Sensor Network Application\ZIGBEE      #
#                          Endpoint & Device\CC2530DB\..\SOURCE\" -I          #
#                          "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\ #
#                          XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Project #
#                          s\zstack\Sensor Network Application\ZIGBEE         #
#                          Endpoint & Device\CC2530DB\..\..\SOURCE\" -I       #
#                          "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\ #
#                          XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Project #
#                          s\zstack\Sensor Network Application\ZIGBEE         #
#                          Endpoint & Device\CC2530DB\..\..\..\ZMAIN\TI2530DB #
#                          \" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeR #
#                          outer\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\P #
#                          rojects\zstack\Sensor Network Application\ZIGBEE   #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\MT\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zi #
#                          gbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1. #
#                          4.0\Projects\zstack\Sensor Network                 #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\INCL #
#                          UDE\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigb #
#                          eeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4. #
#                          0\Projects\zstack\Sensor Network                   #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\MODU #
#                          LE\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigbe #
#                          eRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0 #
#                          \Projects\zstack\Sensor Network                    #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\TARG #
#                          ET\CC2530KB\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-St #
#                          ack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\Sensor Network           #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\MCU #
#                          \CCSOC\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Z #
#                          igbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1 #
#                          .4.0\Projects\zstack\Sensor Network                #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\INC #
#                          LUDE\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zig #
#                          beeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4 #
#                          .0\Projects\zstack\Sensor Network                  #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\AF #
#                          \" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeR #
#                          outer\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\P #
#                          rojects\zstack\Sensor Network Application\ZIGBEE   #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\STACK\NWK\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-S #
#                          tack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2 #
#                          .3.0-1.4.0\Projects\zstack\Sensor Network          #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SE #
#                          C\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigbee #
#                          Router\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ #
#                          Projects\zstack\Sensor Network Application\ZIGBEE  #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\STACK\SAPI\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z- #
#                          Stack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530- #
#                          2.3.0-1.4.0\Projects\zstack\Sensor Network         #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SY #
#                          S\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigbee #
#                          Router\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ #
#                          Projects\zstack\Sensor Network Application\ZIGBEE  #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\STACK\ZCL\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-S #
#                          tack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2 #
#                          .3.0-1.4.0\Projects\zstack\Sensor Network          #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\ZD #
#                          O\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigbee #
#                          Router\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\ #
#                          Projects\zstack\Sensor Network Application\ZIGBEE  #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\ZMAC\F8W\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-St #
#                          ack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\Sensor Network           #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\ZMAC\"   #
#                          -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRout #
#                          er\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Proj #
#                          ects\zstack\Sensor Network Application\ZIGBEE      #
#                          Endpoint & Device\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\SERVICES\SADDR\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤ #
#                          j_Z-Stack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2 #
#                          530-2.3.0-1.4.0\Projects\zstack\Sensor Network     #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\SERVICES #
#                          \SDATA\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Z #
#                          igbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1 #
#                          .4.0\Projects\zstack\Sensor Network                #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\INCL #
#                          UDE\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Zigb #
#                          eeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4. #
#                          0\Projects\zstack\Sensor Network                   #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\HIGH #
#                          _LEVEL\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_Z #
#                          igbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1 #
#                          .4.0\Projects\zstack\Sensor Network                #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_ #
#                          LEVEL\srf04\" -I "D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-St #
#                          ack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2. #
#                          3.0-1.4.0\Projects\zstack\Sensor Network           #
#                          Application\ZIGBEE Endpoint &                      #
#                          Device\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_ #
#                          LEVEL\srf04\SINGLE_CHIP\" -I "C:\IAR               #
#                          Systems\Embedded Workbench for MCS-51              #
#                          V7.51\8051\INC\" -I "C:\IAR Systems\Embedded       #
#                          Workbench for MCS-51 V7.51\8051\INC\CLIB\" -Ohz    #
#    List file          =  D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\X #
#                          T200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Projects #
#                          \zstack\Sensor Network Application\ZIGBEE          #
#                          Endpoint & Device\CC2530DB\EndDeviceKB_M200\List\M #
#                          200.lst                                            #
#    Object file        =  D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\X #
#                          T200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Projects #
#                          \zstack\Sensor Network Application\ZIGBEE          #
#                          Endpoint & Device\CC2530DB\EndDeviceKB_M200\Obj\M2 #
#                          00.r51                                             #
#                                                                             #
#                                                                             #
###############################################################################

D:\Z-Stack¾ã²zCode\«n¶}¬ì¤j_Z-Stack_ZigbeeRouter\XT200_PA_Z-Stack\ZStack-CC2530-2.3.0-1.4.0\Components\hal\module\M200.c
      1          //-------------------------------------------------------------------
      2          // Filename: M200.c
      3          // Description: hal M200 module library 
      4          //-------------------------------------------------------------------
      5          //-------------------------------------------------------------------
      6          // INCLUDES
      7          //-------------------------------------------------------------------
      8          #include "hal_mcu.h"

   \                                 In  segment SFR_AN, at 0x80
   \   union <unnamed> volatile __sfr _A_P0
   \                     _A_P0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x8f
   \   unsigned char volatile __sfr P0INP
   \                     P0INP:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xf3
   \   unsigned char volatile __sfr P0SEL
   \                     P0SEL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfd
   \   unsigned char volatile __sfr P0DIR
   \                     P0DIR:
   \   000000                DS 1
      9          #include "hal_lcd.h"
     10          #include "hal_board.h"
     11          #include "hal_timer.h"
     12          
     13          #include "M140.h" // include about SPI setting
     14          #include "M200.h"
     15          
     16          //--------------------------------------------
     17          // Local variable
     18          //--------------------------------------------

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     19          uint16 M200_Humi;
   \                     M200_Humi:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     20          uint16 M200_Temp;
   \                     M200_Temp:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
     21          
     22          //--------------------------------------------
     23          // Start the SHT M200 sensor module 
     24          //--------------------------------------------

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     25          void SHT_Start(void)
   \                     SHT_Start:
     26          { 
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
     27              HAL_I2C_SCL_CLR();
   \   000004   C285         CLR     0x80.5
     28              HAL_I2C_SDA_SET();
   \   000006   D284         SETB    0x80.4
     29              halMcuWaitUs(5);
   \   000008                ; Setup parameters for call to function halMcuWaitUs
   \   000008   7A05         MOV     R2,#0x5
   \   00000A   12....       LCALL   ?Subroutine1 & 0xFFFF
     30              HAL_I2C_SCL_SET();
     31              halMcuWaitUs(5);
     32              HAL_I2C_SDA_CLR();
   \                     ??CrossCallReturnLabel_12:
   \   00000D   C284         CLR     0x80.4
     33              halMcuWaitUs(5);
   \   00000F                ; Setup parameters for call to function halMcuWaitUs
   \   00000F   7A05         MOV     R2,#0x5
   \   000011   12....       LCALL   ??Subroutine13_0 & 0xFFFF
     34              HAL_I2C_SCL_CLR();
     35              halMcuWaitUs(20);
   \                     ??CrossCallReturnLabel_16:
   \   000014                ; Setup parameters for call to function halMcuWaitUs
   \   000014   7A14         MOV     R2,#0x14
   \   000016   12....       LCALL   ?Subroutine1 & 0xFFFF
     36              HAL_I2C_SCL_SET();
     37              halMcuWaitUs(5);
     38              HAL_I2C_SDA_SET();
   \                     ??CrossCallReturnLabel_13:
   \   000019   D284         SETB    0x80.4
     39              halMcuWaitUs(5);
   \   00001B                ; Setup parameters for call to function halMcuWaitUs
   \   00001B   12....       LCALL   ?Subroutine2 & 0xFFFF
     40              HAL_I2C_SCL_CLR();
     41              halMcuWaitUs(5);
     42          }
   \                     ??CrossCallReturnLabel_10:
   \   00001E                REQUIRE ?Subroutine9
   \   00001E                REQUIRE _A_P0
   \   00001E                ; // Fall through to label ?Subroutine9

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   7B00         MOV     R3,#0x0
   \   000002   12....       LCALL   ??halMcuWaitUs?relay
   \   000005   D285         SETB    0x80.5
   \   000007                ; Setup parameters for call to function halMcuWaitUs
   \   000007                ; Setup parameters for call to function halMcuWaitUs
   \   000007                REQUIRE ?Subroutine10
   \   000007                ; // Fall through to label ?Subroutine10

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   7A05         MOV     R2,#0x5
   \   000002   7B00         MOV     R3,#0x0
   \   000004   12....       LCALL   ??halMcuWaitUs?relay
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine13_0:
   \   000000   7B00         MOV     R3,#0x0
   \   000002   12....       LCALL   ??halMcuWaitUs?relay
   \   000005   C285         CLR     0x80.5
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7A05         MOV     R2,#0x5
   \   000002   12....       LCALL   ??Subroutine13_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   000005                ; Setup parameters for call to function halMcuWaitUs
   \   000005                ; Setup parameters for call to function halMcuWaitUs
   \   000005   02....       LJMP    ?Subroutine10 & 0xFFFF
     43          
     44          //--------------------------------------------
     45          // Write the SHT M200 sensor module data byte
     46          //--------------------------------------------

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     47          uint8 SHT_WriteByte(uint8 dat)
   \                     SHT_WriteByte:
     48          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
     49              uint8 i, err = 0;
   \   000007   75..00       MOV     ?V0 + 0,#0x0
     50          
     51              for (i = 0; i <8; i++)
   \   00000A   7E08         MOV     R6,#0x8
     52              {
     53                  if (dat &0x80)
   \                     ??SHT_WriteByte_0:
   \   00000C   EF           MOV     A,R7
   \   00000D   A2E7         MOV     C,0xE0 /* A   */.7
   \   00000F   5004         JNC     ??SHT_WriteByte_1
     54                  {
     55                      HAL_I2C_SDA_SET();
   \   000011   D284         SETB    0x80.4
   \   000013   8002         SJMP    ??SHT_WriteByte_2
     56                  }
     57                  else
     58                  {
     59                      HAL_I2C_SDA_CLR();
   \                     ??SHT_WriteByte_1:
   \   000015   C284         CLR     0x80.4
     60                  }
     61                  dat = dat << 1;
   \                     ??SHT_WriteByte_2:
   \   000017   C3           CLR     C
   \   000018   33           RLC     A
   \   000019   FF           MOV     R7,A
     62                  HAL_I2C_SCL_SET();
   \   00001A   12....       LCALL   ?Subroutine7 & 0xFFFF
     63                  halMcuWaitUs(20);
     64                  HAL_I2C_SCL_CLR();
     65                  halMcuWaitUs(20);
   \                     ??CrossCallReturnLabel_14:
   \   00001D                ; Setup parameters for call to function halMcuWaitUs
   \   00001D   7A14         MOV     R2,#0x14
   \   00001F   7B00         MOV     R3,#0x0
   \   000021   12....       LCALL   ??halMcuWaitUs?relay
     66              }
   \   000024   1E           DEC     R6
   \   000025   EE           MOV     A,R6
   \   000026   70E4         JNZ     ??SHT_WriteByte_0
     67              HAL_I2C_SDA_SET();
   \   000028   12....       LCALL   ?Subroutine6 & 0xFFFF
     68              HAL_I2C_SDA_DIR_IN();
     69              HAL_SPI_CS_OUTPUT();
   \                     ??CrossCallReturnLabel_6:
   \   00002B   53F37F       ANL     0xf3,#0x7f
   \   00002E   43FD80       ORL     0xfd,#0x80
     70              HAL_I2C_SCL_SET();
   \   000031   D285         SETB    0x80.5
     71              halMcuWaitUs(5);
   \   000033                ; Setup parameters for call to function halMcuWaitUs
   \   000033   7A05         MOV     R2,#0x5
   \   000035   7B00         MOV     R3,#0x0
   \   000037   12....       LCALL   ??halMcuWaitUs?relay
     72              
     73              if (HAL_I2C_SDA_VAL())
   \   00003A   A284         MOV     C,0x80.4
   \   00003C   5003         JNC     ??SHT_WriteByte_3
     74              {
     75                  err = 1;
   \   00003E   75..01       MOV     ?V0 + 0,#0x1
     76              }
     77              HAL_SPI_CS_DIS();
   \                     ??SHT_WriteByte_3:
   \   000041   D287         SETB    0x80.7
     78              HAL_I2C_SCL_CLR();
   \   000043   C285         CLR     0x80.5
     79              HAL_I2C_SDA_DIR_OUT();
   \   000045   12....       LCALL   ??Subroutine14_0 & 0xFFFF
     80              HAL_I2C_SDA_SET();
   \                     ??CrossCallReturnLabel_20:
   \   000048                REQUIRE ?Subroutine11
   \   000048                REQUIRE P0INP
   \   000048                REQUIRE _A_P0
   \   000048                REQUIRE P0SEL
   \   000048                REQUIRE P0DIR
   \   000048                ; // Fall through to label ?Subroutine11
     81              return err;
     82          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   D284         SETB    0x80.4
   \   000002   A9..         MOV     R1,?V0 + 0
   \   000004                REQUIRE ??Subroutine12_0
   \   000004                ; // Fall through to label ??Subroutine12_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine12_0:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   D285         SETB    0x80.5
   \   000002                ; Setup parameters for call to function halMcuWaitUs
   \   000002                ; Setup parameters for call to function halMcuWaitUs
   \   000002   7A14         MOV     R2,#0x14
   \   000004                REQUIRE ??Subroutine13_0
   \   000004                ; // Fall through to label ??Subroutine13_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   D284         SETB    0x80.4
   \   000002   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   53F3EF       ANL     0xf3,#0xef
   \   000003   53FDEF       ANL     0xfd,#0xef
   \   000006   438F10       ORL     0x8f,#0x10
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine14_0:
   \   000000   53F3EF       ANL     0xf3,#0xef
   \   000003   43FD10       ORL     0xfd,#0x10
   \   000006   22           RET
     83          
     84          //--------------------------------------------
     85          // Read the SHT M200 sensor module data byte
     86          //--------------------------------------------

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     87          uint8 SHT_ReadByte(uint8 ack)
   \                     SHT_ReadByte:
     88          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
     89              uint8 res = 0;
   \   000007   75..00       MOV     ?V0 + 0,#0x0
     90              uint8 cnt;
     91          
     92              HAL_I2C_SDA_SET();
   \   00000A   12....       LCALL   ?Subroutine6 & 0xFFFF
     93              HAL_I2C_SDA_DIR_IN();
     94              HAL_I2C_SCL_CLR();
   \                     ??CrossCallReturnLabel_7:
   \   00000D   C285         CLR     0x80.5
     95              for (cnt = 0; cnt < 8; cnt++)
   \   00000F   7E08         MOV     R6,#0x8
     96              {
     97                  HAL_I2C_SCL_SET();
   \                     ??SHT_ReadByte_0:
   \   000011   D285         SETB    0x80.5
     98                  halMcuWaitUs(5);
   \   000013                ; Setup parameters for call to function halMcuWaitUs
   \   000013   7A05         MOV     R2,#0x5
   \   000015   7B00         MOV     R3,#0x0
   \   000017   12....       LCALL   ??halMcuWaitUs?relay
     99                  res <<= 1;
   \   00001A   E5..         MOV     A,?V0 + 0
   \   00001C   C3           CLR     C
   \   00001D   33           RLC     A
   \   00001E   F5..         MOV     ?V0 + 0,A
    100                  if (HAL_I2C_SDA_VAL())
   \   000020   A284         MOV     C,0x80.4
   \   000022   5004         JNC     ??SHT_ReadByte_1
    101                  {
    102                      res |= 0x01;
   \   000024   D2E0         SETB    0xE0 /* A   */.0
   \   000026   F5..         MOV     ?V0 + 0,A
    103                  }
    104                  HAL_I2C_SCL_CLR();
   \                     ??SHT_ReadByte_1:
   \   000028   C285         CLR     0x80.5
    105                  halMcuWaitUs(5);
   \   00002A                ; Setup parameters for call to function halMcuWaitUs
   \   00002A   7A05         MOV     R2,#0x5
   \   00002C   7B00         MOV     R3,#0x0
   \   00002E   12....       LCALL   ??halMcuWaitUs?relay
    106              }
   \   000031   1E           DEC     R6
   \   000032   EE           MOV     A,R6
   \   000033   70DC         JNZ     ??SHT_ReadByte_0
    107              HAL_I2C_SDA_DIR_OUT();
   \   000035   12....       LCALL   ??Subroutine14_0 & 0xFFFF
    108              halMcuWaitUs(5);
   \                     ??CrossCallReturnLabel_21:
   \   000038                ; Setup parameters for call to function halMcuWaitUs
   \   000038   7A05         MOV     R2,#0x5
   \   00003A   7B00         MOV     R3,#0x0
   \   00003C   12....       LCALL   ??halMcuWaitUs?relay
    109              if (ack == 1)
   \   00003F   7401         MOV     A,#0x1
   \   000041   6F           XRL     A,R7
   \   000042   7002         JNZ     ??SHT_ReadByte_2
    110              {
    111                  HAL_I2C_SDA_CLR();
   \   000044   C284         CLR     0x80.4
    112              }
    113              HAL_I2C_SCL_SET();
   \                     ??SHT_ReadByte_2:
   \   000046   12....       LCALL   ?Subroutine7 & 0xFFFF
    114              halMcuWaitUs(20);
    115              HAL_I2C_SCL_CLR();
    116              HAL_I2C_SDA_SET();
   \                     ??CrossCallReturnLabel_15:
   \   000049   80..         SJMP    ?Subroutine11
   \   00004B                REQUIRE P0INP
   \   00004B                REQUIRE _A_P0
   \   00004B                REQUIRE P0SEL
   \   00004B                REQUIRE P0DIR
    117              
    118              return res;
    119          }
    120          
    121          //--------------------------------------------
    122          // Reset the SHT M200 sensor moudule connect
    123          //--------------------------------------------

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    124          void SHT_ConnectReset(void)
   \                     SHT_ConnectReset:
    125          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
    126              uint8 i;
    127          
    128              HAL_I2C_SDA_SET();
   \   000005   D284         SETB    0x80.4
    129              HAL_I2C_SCL_CLR();
   \   000007   C285         CLR     0x80.5
    130              halMcuWaitUs(20);
   \   000009                ; Setup parameters for call to function halMcuWaitUs
   \   000009   7A14         MOV     R2,#0x14
   \   00000B   7B00         MOV     R3,#0x0
   \   00000D   12....       LCALL   ??halMcuWaitUs?relay
    131              for (i = 0; i < 9; i++)
   \   000010   7E09         MOV     R6,#0x9
    132              {
    133                  HAL_I2C_SCL_SET();
   \                     ??SHT_ConnectReset_0:
   \   000012   D285         SETB    0x80.5
    134                  halMcuWaitUs(5);
   \   000014                ; Setup parameters for call to function halMcuWaitUs
   \   000014   12....       LCALL   ?Subroutine2 & 0xFFFF
    135                  HAL_I2C_SCL_CLR();
    136                  halMcuWaitUs(5);
    137              }
   \                     ??CrossCallReturnLabel_11:
   \   000017   1E           DEC     R6
   \   000018   EE           MOV     A,R6
   \   000019   70F7         JNZ     ??SHT_ConnectReset_0
    138          	halMcuWaitMs(100);
   \   00001B                ; Setup parameters for call to function halMcuWaitMs
   \   00001B   7A64         MOV     R2,#0x64
   \   00001D   7B00         MOV     R3,#0x0
   \   00001F   12....       LCALL   ??halMcuWaitMs?relay
    139          }
   \   000022   02....       LJMP    ??Subroutine12_0 & 0xFFFF
   \   000025                REQUIRE _A_P0
    140          
    141          //----------------------------------------------------------------
    142          // @fn      M200_Init
    143          //----------------------------------------------------------------

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    144          void M200_Init(void)
   \                     M200_Init:
    145          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    146              HAL_I2C_SCL_DIR_OUT();
   \   000004   53F3DF       ANL     0xf3,#0xdf
   \   000007   43FD20       ORL     0xfd,#0x20
    147              HAL_I2C_SDA_DIR_OUT();
   \   00000A   12....       LCALL   ??Subroutine14_0 & 0xFFFF
    148          
    149              SHT_ConnectReset();
   \                     ??CrossCallReturnLabel_22:
   \   00000D                ; Setup parameters for call to function SHT_ConnectReset
   \   00000D   12....       LCALL   ??SHT_ConnectReset?relay
    150              SHT_Start();
   \   000010                ; Setup parameters for call to function SHT_Start
   \   000010   12....       LCALL   ??SHT_Start?relay
    151              SHT_WriteByte(0x1E);
   \   000013                ; Setup parameters for call to function SHT_WriteByte
   \   000013   791E         MOV     R1,#0x1e
   \   000015   12....       LCALL   ??SHT_WriteByte?relay
    152              halMcuWaitMs(200);
   \   000018                ; Setup parameters for call to function halMcuWaitMs
   \   000018   7AC8         MOV     R2,#-0x38
   \   00001A   7B00         MOV     R3,#0x0
   \   00001C   12....       LCALL   ??halMcuWaitMs?relay
    153          }
   \   00001F   02....       LJMP    ?Subroutine9 & 0xFFFF
   \   000022                REQUIRE P0SEL
   \   000022                REQUIRE P0DIR
    154          
    155          //----------------------------------------------------------------
    156          // @fn    M200_GetValue
    157          //----------------------------------------------------------------

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   D284         SETB    0x80.4
   \   000002                REQUIRE ??Subroutine14_0
   \   000002                ; // Fall through to label ??Subroutine14_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    158          void M200_GetValue(void)
   \                     M200_GetValue:
    159          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    160              uint8 count_1, err = 0;
    161              uint16 count_2;
    162              
    163              while (TRUE)
    164              {
    165                  SHT_Start();
   \   000005                ; Setup parameters for call to function SHT_Start
   \   000005   12....       LCALL   ??SHT_Start?relay
    166                  err += SHT_WriteByte(0x05); //  Converter H
   \   000008                ; Setup parameters for call to function SHT_WriteByte
   \   000008   7905         MOV     R1,#0x5
   \   00000A   12....       LCALL   ??SHT_WriteByte?relay
   \   00000D   E9           MOV     A,R1
   \   00000E   FA           MOV     R2,A
    167                  if (err > 0)
   \   00000F   6003         JZ      $+5
   \   000011   02....       LJMP    ??M200_GetValue_0 & 0xFFFF
    168                  {
    169                      break;
    170                  }
    171                  //55ms
    172                  HAL_I2C_SDA_DIR_IN();
   \   000014   12....       LCALL   ?Subroutine5 & 0xFFFF
    173                  for (count_1 = 0; count_1 < 190; count_1++)
    174                  {
    175                      halMcuWaitMs(1);
   \                     ??CrossCallReturnLabel_4:
   \   000017                ; Setup parameters for call to function halMcuWaitMs
   \   000017   7A01         MOV     R2,#0x1
   \   000019   7B00         MOV     R3,#0x0
   \   00001B   12....       LCALL   ??halMcuWaitMs?relay
    176                      if (HAL_I2C_SDA_VAL() == 0)
   \   00001E   A284         MOV     C,0x80.4
   \   000020   402C         JC      ??M200_GetValue_1
    177                      {
    178                          HAL_I2C_SDA_DIR_OUT();
   \   000022   12....       LCALL   ?Subroutine3 & 0xFFFF
    179                          M200_Humi = SHT_ReadByte(1);
   \                     ??CrossCallReturnLabel_2:
   \   000025   90....       MOV     DPTR,#M200_Humi
   \   000028   F0           MOVX    @DPTR,A
   \   000029   A3           INC     DPTR
   \   00002A   E4           CLR     A
   \   00002B   F0           MOVX    @DPTR,A
    180                          if (M200_Humi > 0x3F)
   \   00002C   90....       MOV     DPTR,#M200_Humi
   \   00002F   C3           CLR     C
   \   000030   E0           MOVX    A,@DPTR
   \   000031   9440         SUBB    A,#0x40
   \   000033   E4           CLR     A
   \   000034   9400         SUBB    A,#0x0
   \   000036   4006         JC      ??M200_GetValue_2
    181                          {
    182                              M200_Humi = 0x3F;
   \   000038   743F         MOV     A,#0x3f
   \   00003A   F0           MOVX    @DPTR,A
   \   00003B   A3           INC     DPTR
   \   00003C   E4           CLR     A
   \   00003D   F0           MOVX    @DPTR,A
    183                          }
    184                          M200_Humi = (M200_Humi << 8) + (uint16)SHT_ReadByte(1);
   \                     ??M200_GetValue_2:
   \   00003E                ; Setup parameters for call to function SHT_ReadByte
   \   00003E   7901         MOV     R1,#0x1
   \   000040   12....       LCALL   ??SHT_ReadByte?relay
   \   000043   E9           MOV     A,R1
   \   000044   F5..         MOV     ?V0 + 0,A
   \   000046   90....       MOV     DPTR,#M200_Humi
   \   000049   12....       LCALL   ?Subroutine0 & 0xFFFF
    185                          SHT_ReadByte(0);
    186                          break;
   \                     ??CrossCallReturnLabel_0:
   \   00004C   8007         SJMP    ??M200_GetValue_3
    187                      }
    188                  }
   \                     ??M200_GetValue_1:
   \   00004E   0E           INC     R6
   \   00004F   EE           MOV     A,R6
   \   000050   C3           CLR     C
   \   000051   94BE         SUBB    A,#-0x42
   \   000053   40C2         JC      ??CrossCallReturnLabel_4
    189                  HAL_I2C_SDA_SET();
   \                     ??M200_GetValue_3:
   \   000055   12....       LCALL   ?Subroutine4 & 0xFFFF
    190                  HAL_I2C_SDA_DIR_OUT();
    191                  
    192                  halMcuWaitMs(10);
   \                     ??CrossCallReturnLabel_18:
   \   000058                ; Setup parameters for call to function halMcuWaitMs
   \   000058   7A0A         MOV     R2,#0xa
   \   00005A   7B00         MOV     R3,#0x0
   \   00005C   12....       LCALL   ??halMcuWaitMs?relay
    193                  SHT_Start();
   \   00005F                ; Setup parameters for call to function SHT_Start
   \   00005F   12....       LCALL   ??SHT_Start?relay
    194                  err += SHT_WriteByte(0x03); // Converter T
   \   000062                ; Setup parameters for call to function SHT_WriteByte
   \   000062   7903         MOV     R1,#0x3
   \   000064   12....       LCALL   ??SHT_WriteByte?relay
   \   000067   E9           MOV     A,R1
   \   000068   FA           MOV     R2,A
    195                  if (err > 0)
   \   000069   7052         JNZ     ??M200_GetValue_0
    196                  {
    197                      break;
    198                  }
    199                  //210ms
    200                  HAL_I2C_SDA_DIR_IN();
   \   00006B   12....       LCALL   ?Subroutine5 & 0xFFFF
    201                  for (count_2 = 0; count_2 < 600; count_2++)
   \                     ??CrossCallReturnLabel_5:
   \   00006E   7F00         MOV     R7,#0x0
    202                  {
    203                      halMcuWaitMs(1);
   \                     ??M200_GetValue_4:
   \   000070                ; Setup parameters for call to function halMcuWaitMs
   \   000070   7A01         MOV     R2,#0x1
   \   000072   7B00         MOV     R3,#0x0
   \   000074   12....       LCALL   ??halMcuWaitMs?relay
    204                      if (HAL_I2C_SDA_VAL() == 0)
   \   000077   A284         MOV     C,0x80.4
   \   000079   402C         JC      ??M200_GetValue_5
    205                      {
    206                          HAL_I2C_SDA_DIR_OUT();
   \   00007B   12....       LCALL   ?Subroutine3 & 0xFFFF
    207                          M200_Temp = SHT_ReadByte(1);
   \                     ??CrossCallReturnLabel_3:
   \   00007E   90....       MOV     DPTR,#M200_Temp
   \   000081   F0           MOVX    @DPTR,A
   \   000082   A3           INC     DPTR
   \   000083   E4           CLR     A
   \   000084   F0           MOVX    @DPTR,A
    208                          if (M200_Temp > 0x3F)
   \   000085   90....       MOV     DPTR,#M200_Temp
   \   000088   C3           CLR     C
   \   000089   E0           MOVX    A,@DPTR
   \   00008A   9440         SUBB    A,#0x40
   \   00008C   E4           CLR     A
   \   00008D   9400         SUBB    A,#0x0
   \   00008F   4006         JC      ??M200_GetValue_6
    209                          {
    210                              M200_Temp = 0x3F;
   \   000091   743F         MOV     A,#0x3f
   \   000093   F0           MOVX    @DPTR,A
   \   000094   A3           INC     DPTR
   \   000095   E4           CLR     A
   \   000096   F0           MOVX    @DPTR,A
    211                          }
    212                          M200_Temp = (M200_Temp << 8) + (uint16)SHT_ReadByte(1);
   \                     ??M200_GetValue_6:
   \   000097                ; Setup parameters for call to function SHT_ReadByte
   \   000097   7901         MOV     R1,#0x1
   \   000099   12....       LCALL   ??SHT_ReadByte?relay
   \   00009C   E9           MOV     A,R1
   \   00009D   F5..         MOV     ?V0 + 0,A
   \   00009F   90....       MOV     DPTR,#M200_Temp
   \   0000A2   12....       LCALL   ?Subroutine0 & 0xFFFF
    213                          SHT_ReadByte(0);
    214                          break;
   \                     ??CrossCallReturnLabel_1:
   \   0000A5   8011         SJMP    ??M200_GetValue_7
    215                      }
    216                  }
   \                     ??M200_GetValue_5:
   \   0000A7   EE           MOV     A,R6
   \   0000A8   2401         ADD     A,#0x1
   \   0000AA   0E           INC     R6
   \   0000AB   EF           MOV     A,R7
   \   0000AC   3400         ADDC    A,#0x0
   \   0000AE   FF           MOV     R7,A
   \   0000AF   C3           CLR     C
   \   0000B0   EE           MOV     A,R6
   \   0000B1   9458         SUBB    A,#0x58
   \   0000B3   EF           MOV     A,R7
   \   0000B4   9402         SUBB    A,#0x2
   \   0000B6   40B8         JC      ??M200_GetValue_4
    217                  HAL_I2C_SDA_SET();
   \                     ??M200_GetValue_7:
   \   0000B8   12....       LCALL   ?Subroutine4 & 0xFFFF
    218                  HAL_I2C_SDA_DIR_OUT();       
    219                  break;
   \                     ??CrossCallReturnLabel_19:
   \   0000BB   8006         SJMP    ??M200_GetValue_8
    220              } 
    221              if (err > 0)
   \                     ??M200_GetValue_0:
   \   0000BD   EA           MOV     A,R2
   \   0000BE   6003         JZ      ??M200_GetValue_8
    222              {
    223                  SHT_ConnectReset();
   \   0000C0                ; Setup parameters for call to function SHT_ConnectReset
   \   0000C0   12....       LCALL   ??SHT_ConnectReset?relay
    224              }
    225          }
   \                     ??M200_GetValue_8:
   \   0000C3   7F02         MOV     R7,#0x2
   \   0000C5   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   0000C8                REQUIRE P0INP
   \   0000C8                REQUIRE _A_P0
   \   0000C8                REQUIRE P0SEL
   \   0000C8                REQUIRE P0DIR

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   000003   7E00         MOV     R6,#0x0
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   53F3EF       ANL     0xf3,#0xef
   \   000003   43FD10       ORL     0xfd,#0x10
   \   000006                ; Setup parameters for call to function SHT_ReadByte
   \   000006                ; Setup parameters for call to function SHT_ReadByte
   \   000006   7901         MOV     R1,#0x1
   \   000008   12....       LCALL   ??SHT_ReadByte?relay
   \   00000B   E9           MOV     A,R1
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F9           MOV     R1,A
   \   000002   E5..         MOV     A,?V0 + 0
   \   000004   F0           MOVX    @DPTR,A
   \   000005   A3           INC     DPTR
   \   000006   E9           MOV     A,R1
   \   000007   F0           MOVX    @DPTR,A
   \   000008                ; Setup parameters for call to function SHT_ReadByte
   \   000008                ; Setup parameters for call to function SHT_ReadByte
   \   000008   7900         MOV     R1,#0x0
   \   00000A   12....       LCALL   ??SHT_ReadByte?relay
   \   00000D   22           RET

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SHT_Start?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SHT_Start

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SHT_WriteByte?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SHT_WriteByte

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SHT_ReadByte?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SHT_ReadByte

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SHT_ConnectReset?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SHT_ConnectReset

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??M200_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    M200_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??M200_GetValue?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    M200_GetValue

   Maximum stack usage in bytes:

     Function              ISTACK PSTACK XSTACK
     --------              ------ ------ ------
     M200_GetValue             0      0     10
       -> SHT_Start            0      0     20
       -> SHT_WriteByte        0      0     20
       -> halMcuWaitMs         0      0     20
       -> SHT_ReadByte         0      0     20
       -> SHT_ReadByte         0      0     20
       -> SHT_ReadByte         0      0     20
       -> halMcuWaitMs         0      0     20
       -> SHT_Start            0      0     20
       -> SHT_WriteByte        0      0     20
       -> halMcuWaitMs         0      0     20
       -> SHT_ReadByte         0      0     20
       -> SHT_ReadByte         0      0     20
       -> SHT_ReadByte         0      0     20
       -> SHT_ConnectReset     0      0     20
     M200_Init                 2      0      0
       -> SHT_ConnectReset     4      0      0
       -> SHT_Start            4      0      0
       -> SHT_WriteByte        4      0      0
       -> halMcuWaitMs         4      0      0
     SHT_ConnectReset          0      0     19
       -> halMcuWaitUs         0      0     18
       -> halMcuWaitUs         0      0     18
       -> halMcuWaitUs         0      0     18
       -> halMcuWaitMs         0      0     18
     SHT_ReadByte              0      0     19
       -> halMcuWaitUs         0      0     18
       -> halMcuWaitUs         0      0     18
       -> halMcuWaitUs         0      0     18
       -> halMcuWaitUs         0      0     18
     SHT_Start                 2      0     10
       -> halMcuWaitUs         4      0      0
       -> halMcuWaitUs         4      0      0
       -> halMcuWaitUs         4      0      0
       -> halMcuWaitUs         4      0      0
       -> halMcuWaitUs         4      0      0
       -> halMcuWaitUs         4      0      0
       -> halMcuWaitUs         4      0      0
     SHT_WriteByte             0      0     19
       -> halMcuWaitUs         0      0     18
       -> halMcuWaitUs         0      0     18
       -> halMcuWaitUs         0      0     18


   Segment part sizes:

     Function/Label           Bytes
     --------------           -----
     _A_P0                       1
     P0INP                       1
     P0SEL                       1
     P0DIR                       1
     M200_Humi                   2
     M200_Temp                   2
     SHT_Start                  30
     ?Subroutine9                7
     ?Subroutine1                7
     ?Subroutine10               8
     ??Subroutine13_0            8
     ?Subroutine2                8
     SHT_WriteByte              72
     ?Subroutine11               4
     ??Subroutine12_0            5
     ?Subroutine7                4
     ?Subroutine6                6
     ?Subroutine8               10
     ??Subroutine14_0            7
     SHT_ReadByte               75
     SHT_ConnectReset           37
     M200_Init                  34
     ?Subroutine4                2
     M200_GetValue             200
     ?Subroutine5                6
     ?Subroutine3               13
     ?Subroutine0               14
     ??SHT_Start?relay           6
     ??SHT_WriteByte?relay       6
     ??SHT_ReadByte?relay        6
     ??SHT_ConnectReset?relay    6
     ??M200_Init?relay           6
     ??M200_GetValue?relay       6

 
 557 bytes in segment BANKED_CODE
  36 bytes in segment BANK_RELAYS
   4 bytes in segment SFR_AN
   4 bytes in segment XDATA_Z
 
 593 bytes of CODE  memory
   0 bytes of DATA  memory (+ 4 bytes shared)
   4 bytes of XDATA memory

Errors: none
Warnings: none
